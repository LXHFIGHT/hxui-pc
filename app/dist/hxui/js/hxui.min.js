"use strict";!function(e,t){t.HXUI=t.HXUI||{};var n=function(t){if(!t)return console.warn("HXUI.addSelector 方法需要传一个{ choose, hide }对象作为唯一参数"),null;var n=t.choose,a=t.hide,o={},i=void 0,l=void 0,s=void 0,r={location:{},poi:[]},c=[];Object.defineProperty(r,"poi",{set:function(t){if(e(".pad-poi").empty(),0!==t.length&&t)t.forEach(function(t){var n='<div class="item-poi" data-uid="'+t.uid+'">\n                                            '+t.title+"\n                                            <small>"+t.address+"</small>\n                                         </div>";e(n).appendTo(".pad-poi")});else{e('<span class="emptyset">附近没有热门地点</span>').appendTo(".pad-poi")}c=t}});e('<div class="hx-modal choose-address-modal">\n                        <div class="pad-address-content">\n                            <div class="pad-address-selector">\n                                <input type="text" \n                                       ref="address" \n                                       id="suggestion" \n                                       placeholder="搜索地点"/>\n                                <button class="btn-close-modal"></button>       \n                            </div>\n                            <div class="pad-map">\n                                <div class="map" id="baidu-map" />\n                                <img class="icon-pinpoint" \n                                     src="/dist/hxui/img/icon/icon-pinpoint.png" alt=""/>\n                                <button class="btn-pinpoint">\n                                    <img src="/dist/hxui/img/icon/icon-current-location.png" alt=""/>\n                                </button>\n                            </div>\n                            <div class="pad-poi">\n                                <span class="emptyset">正在加载地图中...</span>                               \n                            </div>\n                        </div>\n                      </div>').appendTo("body");var d=function(){o=new BMap.Map("baidu-map"),o.enableScrollWheelZoom(!0),i=new BMap.Geolocation,l=new BMap.Geocoder,s=new BMap.Autocomplete({input:"suggestion",location:o}),p();var e=function(e){function t(){var e=n.getResults().getPoi(0).point;o.centerAndZoom(e,16),u()}var n=new BMap.LocalSearch(o,{onSearchComplete:t});n.search(e)};s.addEventListener("onconfirm",function(t){var n=t.item.value,a=""+n.province+n.city+n.district+n.street+n.business;e(a)}),o.addEventListener("touchend",function(e){u()}),o.addEventListener("mouseup",function(e){u()})},u=function(){if(o){var e=o.getCenter(),t=e.lat,n=e.lng;l.getLocation(new BMap.Point(n,t),function(e){e&&(r.poi=e.surroundingPois)})}},p=function(){i.getCurrentPosition(function(e){if(this.getStatus()===BMAP_STATUS_SUCCESS){o.centerAndZoom(e.point,16);var t=e.point,n=t.lat,a=t.lng;r.location={lat:n,lng:a,address:""},console.log("CURRENT STATE: ",r),u()}else popTipWarningQuick("无法获取当前位置")},{enableHighAccuracy:!0})},m=function(){var t=e(".choose-address-modal");t.removeClass("show"),o=null,i=null,l=null,s=null;var n=setTimeout(function(){t.remove(),clearTimeout(n)},1e4);"function"==typeof a&&a()},f=setTimeout(function(){var t=e(".choose-address-modal");t.addClass("show"),d(),t.on("click",".btn-close-modal",m),t.on("click",".item-poi",function(){var t=e(this),a=t.data("uid"),o=!0,i=!1,l=void 0;try{for(var s,r=c[Symbol.iterator]();!(o=(s=r.next()).done);o=!0){var d=s.value;if(d.uid===a){var u=d.address,p=d.city,f=d.point,v=d.title,g=f.lng,h=f.lat;"function"==typeof n&&n({address:u,city:p,lng:g,lat:h,title:v}),m();break}}}catch(e){i=!0,l=e}finally{try{!o&&r.return&&r.return()}finally{if(i)throw l}}}),clearTimeout(f)},50)};t.HXUI=Object.assign(t.HXUI,{addressSelector:n})}(jQuery,window),function(e,t){t.HXUI=t.HXUI||{};var n=function(t){var n=function(e){if(!e)return 0;var t=e.split("-"),n=t[0],a=parseInt(t[1])-1,o=parseInt(t[2]);return new Date(n,a,o).getTime()},a=function(e){var t=e.split("-"),n=new Date(t[0],parseInt(t[1])-1,parseInt(t[2]));return new Date(n.getFullYear(),n.getMonth()+1,0).getDate()},o=function(t){-1!==(e(t.target).attr("class")||"").indexOf("hxui-modal")&&e(".hxui-modal.calendar").removeClass("show")},i=function(){var t=s.split("-"),n="";console.log("日期："+s),console.log("切换下一个月份为："+t[1]+"  "+r),n=12===parseInt(t[1])?parseInt(t[0])+1+"-01-"+t[2]:t[0]+"-"+(parseInt(t[1])+1)+"-"+t[2],s=n,f(n),e(".pad-dates li").unbind().bind("click",g)},l=function(){var t=s.split("-"),n="";console.log("日期："+s),console.log("切换上一个月份为："+t[1]+"  "+r),n=1===parseInt(t[1])?parseInt(t[0])-1+"-12-"+t[2]:t[0]+"-"+(parseInt(t[1])-1)+"-"+t[2],s=n,f(n),e(".pad-dates li").unbind().bind("click",g)},s=t.date||function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}(),r=0,c=0,d=0,u=s,p=t.beginDate,m=t.endDate,f=function(t){var o=t.split("-");d=o[0],r=parseInt(o[1]),c=parseInt(o[2]);var i=parseInt(u.split("-")[1]),l=u.split("-")[0],s=1===r?12:r-1,f=12===r?1:r+1,v=e(".pad-dates"),g=(n(p)/1e3/24/3600).toFixed(0),h=(n(m)/1e3/24/3600).toFixed(0);e(".calendar-content .to-next-month").text(f+"月").attr("data-month",f),e(".calendar-content .to-last-month").text(s+"月").attr("data-month",s),e(".calendar-content .title").text(o[0]+"."+parseInt(o[1]));var b=new Date(d,r-1,1).getDay(),w=a(t),y=0;for(v.empty(),y=0;y<b;y++){var x='<li class="passed" data-selectable="0">-</li>';v.append(x)}for(y=0;y<parseInt(w);y++){var T=(Date.now()/1e3/24/3600).toFixed(0),I=(new Date(d,r-1,c).getTime()/1e3/24/3600).toFixed(0),k=(new Date(d,r-1,y+1).getTime()/1e3/24/3600).toFixed(0),x="";I!==k||i!==r||l!==d?(x=parseInt(h)&&k>h||parseInt(g)&&k<g?'<li class="disabled"><button>'+(y+1)+"</button></li>":k<T?'<li class="passed"><button>'+(y+1)+"</button></li>":k===T?'<li class="today"><button>'+(y+1)+"</button></li>":"<li><button>"+(y+1)+"</button></li>",v.append(x)):(x='<li class="selected"><button>'+(y+1)+"</button></li>",v.append(x))}},v=function(e){var t=e.split("."),n=t[1]>=10?t[1]:"0"+t[1],a=t[2]>=10?t[2]:"0"+t[2];return t[0]+"-"+n+"-"+a},g=function(n){var a=e(n.currentTarget);if(!a.hasClass("disabled")){if(0!==a.data("selectable")){var o=e(n.currentTarget).find("button").text(),i=e(".calendar-content .title").text();e(".pad-dates li").removeClass("selected"),a.addClass("selected");var l=i+"."+o;e(".hxui-modal.calendar").removeClass("show"),"function"==typeof t.select&&t.select(v(l))}}};if(0!==e(".hxui-modal.calendar").length)e(".hxui-modal.calendar").addClass("show"),f(s),e(".pad-dates li").unbind().bind("click",g),e("body").off("click",".hxui-modal.calendar",o).on("click",".hxui-modal.calendar",o).off("click",".calendar-content .to-next-month",i).on("click",".calendar-content .to-next-month",i).off("click",".calendar-content .to-last-month",l).on("click",".calendar-content .to-last-month",l);else{e("<div class='hx-modal calendar'>    <div class='calendar-content'>       <header>           <button class='to-last-month'></button>           <span class='title'></span>           <button class='to-next-month'></button>       </header>    <div class='table-dates'>        <ul class='header-date'>            <li>日</li>           <li>一</li>           <li>二</li>           <li>三</li>           <li>四</li>           <li>五</li>           <li>六</li>           <div style='clear: both'></div>        </ul>       <ul class='pad-dates'>       </ul>    </div></div>").appendTo("body"),e("body").off("click",".hxui-modal.calendar",o).on("click",".hxui-modal.calendar",o).off("click",".calendar-content .to-next-month",i).on("click",".calendar-content .to-next-month",i).off("click",".calendar-content .to-last-month",l).on("click",".calendar-content .to-last-month",l);var h=setTimeout(function(){f(s),e(".hxui-modal.calendar").addClass("show"),e(".pad-dates li").unbind().bind("click",g),clearTimeout(h)},100)}};t.HXUI=Object.assign(t.HXUI,{calendar:n})}(jQuery,window),function(e,t){t.HXUI=t.HXUI||{};var n=function(t){var n=t?t.title||"加载中...":"加载中...",a=t?t.during||5e3:5e3,o=document.querySelectorAll(".hx-small-modal.loading");0!==o.length&&o.remove(),e("<div class='hx-small-modal loading'>\n               <section class='hx-loading'></section>\n               <span class='text-small-modal'>"+n+"</span>\n            </div>").appendTo("body");var i=setTimeout(function(){e(".hx-small-modal.loading").push("show"),clearTimeout(i)},0),l=setTimeout(function(){e(".hx-small-modal.loading").removeClass("show"),clearTimeout(l)},a)},a=function(){e(".hx-small-modal.loading").removeClass("show")},o=function(t){var n=t?t.title||"加载中...":"加载中...",a=t?t.during||1500:1500,o=t?t.type||"success":"success",i=e(".hx-small-modal.tips");if(0!==i.length)i(),i.find(".hx-small-modal.tips").text(n),i.find("#hx-icon")[0].setAttribute("class","hx-icon "+o);else{e("<div class='hx-small-modal tips'>\n                   <section id=\"hx-icon\" class='hx-icon "+o+"'></section>\n                   <span class='text-small-modal'>"+n+"</span>\n                </div>").appendTo("body");var l=setTimeout(function(){e(".hx-small-modal.tips").addClass("show"),clearTimeout(l)},0)}var s=setTimeout(function(){e(".hx-small-modal.tips").removeClass("show"),clearTimeout(s)},a)};t.HXUI=Object.assign(t.HXUI,{showLoading:n,hideLoading:a,showTip:o})}(jQuery,window),function(e,t){t.HXUI=t.HXUI||{};var n=function(n){var a=n.currentUrl,o=n.urls,i=n.screen;!i||(i="");var l=0,s=o?[].concat(o):[a],r=n?n.maxium||2.5:2.5,c=0,d=1,u=0,p=0,m=!1,f=!1,v=function(){e(".hx-image-modal").removeClass("show");var t=setTimeout(function(){e(".hx-image-modal").remove(),clearTimeout(t)},400)},g=function(e){e?d<r?d+=.5:popTipInfoQuick("不能再放大了"):d>1?d-=.5:popTipInfoQuick("不能再缩小了"),b(),document.getElementsByClassName("modal-image-preview")[0].style.transform=h()},h=function(e){return e?"translate(-50%, -50%)":"translate(-50%, -50%) rotate("+c+"deg) scale("+d+", "+d+")"},b=function(){var t=document.getElementsByClassName("modal-image-preview")[0],n=document.getElementsByClassName("hx-image-modal")[0],a=t.offsetHeight*d,o=t.offsetWidth*d,i=n.offsetHeight,r=n.offsetWidth;a>i||o>r?(f=!0,t.setAttribute("class","modal-image-preview movable")):(f=!1,t.setAttribute("class","modal-image-preview"),t.style.top="50%",t.style.left="50%"),1!==s.length&&e(".hx-image-modal").find(".title").text(l+1+" / "+s.length)},w=function(){var e=document.getElementsByClassName("modal-image-preview")[0];d=1,c=0,e.style.top="50%",e.style.left="50%",document.getElementsByClassName("modal-image-preview")[0].style.transform=h(!0),b()},y=function(e){var t=document.getElementsByClassName("modal-image-preview")[0];e?c+=90:c-=90,t.style.transform=h(),t.style.top="50%",t.style.left="50%"};!function(){for(var t=0;t<s.length;t++)if(a===s[t]){l=t;break}var n=setTimeout(function(){var t=e(".btn-to-last"),a=e(".btn-to-next");e(".hx-image-modal").addClass("show"),b(),t.unbind().bind("click",function(){if(0===l)return void popTipWarningQuick("没有上一张了");0!==c&&(c=0,document.getElementsByClassName("modal-image-preview")[0].style.transform=h(!0)),l--,e(".modal-image-preview").attr("src",s[l]),e(".btn-download").attr("src",s[l]),w()}),a.unbind().bind("click",function(){if(l===s.length-1)return void popTipWarningQuick("没有下一张了");0!==c&&(c=0,document.getElementsByClassName("modal-image-preview")[0].style.transform=h(!0)),l++,e(".modal-image-preview").attr("src",s[l]),e(".btn-download").attr("src",s[l]),w()}),1===s.length&&(t.addClass("hidden"),a.addClass("hidden")),clearTimeout(n)},100)}(),e("<div class='hx-image-modal hx-modal "+i+"'>\n                        <header class='navbar'>\n                            <span class='title'></span>\n                            <button class='btn-quit-preview'></button>\n                        </header>\n                        <img class='modal-image-preview' ondragstart='return false;' src='"+a+"' alt='image' />\n                        <button class='btn-to-last hide-sm fa fa-angle-left'></button>\n                        <button class='btn-to-next hide-sm fa fa-angle-right'></button>\n                        <div class='pad-functions'>\n                            <button class='btn-to-last hide-md hide-bg fa fa-angle-left'></button>\n                            <button class='btn-search-plus fa fa-search-plus'></button>\n                            <button class='btn-search-minus fa fa-search-minus'></button>\n                            <button class='btn-rotate-left fa fa-undo'></button>\n                            <button class='btn-rotate-right fa fa-repeat'></button>\n                            <a class='btn-download fa fa-download' href='"+a+"' download='图片预览效果.jpg'></a>\n                            <button class='btn-to-next hide-md hide-bg fa fa-angle-right'></button>\n                        </div>\n                    </div>").appendTo("body"),e("body").on("click",".btn-rotate-left",function(){y()}).on("click",".btn-rotate-right",function(){y(!0)}).on("click",".btn-search-plus",function(){g(!0)}).on("click",".btn-search-minus",function(){g(!1)}).on("click",".hx-image-modal",function(){-1!==event.target.getAttribute("class").indexOf("hx-image-modal")&&v()}).on("touchstart",".modal-image-preview.movable",function(n){var a=n||t.event,o=a.originalEvent.changedTouches[0].pageX,i=a.originalEvent.changedTouches[0].pageY;u=o-e(this)[0].offsetLeft,p=i-e(this)[0].offsetTop,m=!0}).on("mousedown",".modal-image-preview.movable",function(n){var a=n||t.event,o=a.pageX||a.originalEvent.pageX,i=a.pageY||a.originalEvent.pageY;u=o-e(this)[0].offsetLeft,p=i-e(this)[0].offsetTop,m=!0}).on("mousemove",".modal-image-preview.movable",function(n){var a=n||t.event,o=a.pageX,i=a.pageY,l=0,s=0;!0===m&&(l=o-u,s=i-p,e(this).css("left",l),e(this).css("top",s))}).on("touchmove",".modal-image-preview.movable",function(n){var a=n||t.event,o=a.originalEvent.changedTouches[0].pageX,i=a.originalEvent.changedTouches[0].pageY,l=0,s=0;!0===f&&(l=o-u,s=i-p,e(this).css("left",l),e(this).css("top",s)),console.log("On touch move is draging: ",m),console.log("On touch move: ",l,s),console.log("On touch move: ",u,u)}).on("click",".btn-quit-preview",function(){v()}),t.addEventListener("mouseup",function(){m=!1})},a=function(){e(".hx-image-modal").removeClass("show");var t=setTimeout(function(){e(".hx-image-modal").remove(),clearTimeout(t)},400)};t.HXUI=Object.assign(t.HXUI,{imagePreviewer:n,hidePreviewImage:a})}(jQuery,window),function(e,t){t.HXUI=t.HXUI||{};var n=null,a=function(t,a,o){clearTimeout(n);var i="default";if(1===a?i="success":2===a?i="warn":3===a&&(i="error"),0!==e(".pad-poptip").length)e(".pad-poptip").attr("class","pad-poptip "+i).text(t).addClass("show");else{e("<div class='pad-poptip "+i+"'  >"+t+"</div>").appendTo("body"),setTimeout(function(){e(".pad-poptip").addClass("show")},1e3/60)}n=setTimeout(function(){e(".pad-poptip").removeClass("show")},o)},o=function(e){a(e,1,3e3)},i=function(e){a(e,1,1500)},l=function(e){a(e,2,3e3)},s=function(e){a(e,2,1500)},r=function(e){a(e,3,3e3)},c=function(e){a(e,3,1500)},d=function(e){a(e,-1,3e3)},u=function(e){a(e,-1,1500)};t.HXUI=Object.assign(t.HXUI,{popTipInfo:o,popTipInfoQuick:i,popTipWarning:l,popTipWarningQuick:s,popTipError:r,popTipErrorQuick:c,popTipNormal:d,popTipNormalQuick:u})}(jQuery,window),function(e,t){t.HXUI=t.HXUI||{};var n=function(e){var n=e.query||"map",a=e.routes||[],o=e.startLabel,i=e.endLabel,l=e.startTime,s=e.endTime,r=e.isComplete,c="/dist/hxui/img/icon/icon-route-start.png";if(!t.BMap)return console.warn('引用HXUI.showRouteMap方法需要引入百度地图JavsScript API，请在入口网页文件（index.html）引入: <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak={YOUR_APP_KEY}"><\/script> '),null;if(0===a.length)return console.log("options.routes 不能为空"),null;var d=new BMap.Map(n);d.enableScrollWheelZoom(!0),d.clearOverlays();var u=function(e){var t=e.lat,n=e.lng,a=e.iconUrl;if(t&&n){var o=new BMap.Point(n,t),i=new BMap.Size(40,40),l=new BMap.Icon(a,i);l.setImageSize(i);var s=new BMap.Marker(o,{icon:l,offset:new BMap.Size(0,-14)});d.addOverlay(s);var r=new BMap.Size(10,5),c=new BMap.Icon("/dist/hxui/img/icon/icon-caret-down.png",r);c.setImageSize(r);var u=new BMap.Marker(o,{icon:c,offset:new BMap.Size(0,-34)});d.addOverlay(u);var p={position:o,offset:new BMap.Size(0,-80)},m="<span>"+e.label+"</span><br />"+e.time,f=new BMap.Label(m,p);d.addOverlay(f)}},p=a.map(function(e){return new BMap.Point(e.lng,e.lat)}),m=new BMap.Polyline(p,{strokeColor:"#00c397",strokeWeight:8,strokeOpacity:1}),f=[{lng:a[0].lng,lat:a[0].lat,label:o,time:l,iconUrl:c},{lng:a[a.length-1].lng,lat:a[a.length-1].lat,label:i,time:s,iconUrl:r?"/dist/hxui/img/icon/icon-route-end.png":c}];d.addOverlay(m),u(f[0]),u(f[1]),d.centerAndZoom(p[a.length-1],14)};t.HXUI=Object.assign(t.HXUI,{showRouteMap:n})}(jQuery,window),function(e,t){t.HXUI=t.HXUI||{};var n=function(t){if(!t)return void console.log("使用HXUI.createSidebar方法需要传入一个配置对象");var n=t.query,a=t.menus,o=t.clickFunc;e(n).addClass("hx-sidebar"),n&&a&&o||console.log("请检查设置对象中是否包含 query(需要生成导航目录的载体HTML元素的选择方法)， menus(菜单集合)和clickFunc(点击触发的事件)");var i=!0,l=!1,s=void 0;try{for(var r,c=a[Symbol.iterator]();!(i=(r=c.next()).done);i=!0){r.value}}catch(e){l=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(l)throw s}}};t.HXUI=Object.assign(t.HXUI,{createSidebar:n})}(jQuery,window),function(e,t){t.HXUI=t.HXUI||{};var n=function(t){var n=e(t?t+" [required]":"[required]"),a=e(t?t+' [data-type="bank_number"]':'[data-type="bank_number"]'),o=e(t?t+' [data-type="number"]':'[data-type="number"]'),i=!0,l=null,s=/^[0-9]*$/;n.unbind("focus").focus(function(){e(this).removeClass("error")});for(var r=0;r<n.length;r++)l=e(n[r]),l.val()||(i=1,l.addClass("error"));for(var c=0;c<a.length;c++){l=e(a[c]);var d=e(a[c]).val();isNaN(d)?(i=2,l.addClass("error")):16!==d.length&&19!==d.length&&(i=2,l.addClass("error"))}for(var u=0;u<o.length;u++){l=e(o[u]);var p=e(a[u]).val();s.test(p)||(i=3,l.addClass("error"))}switch(i){case 1:popTipWarningQuick("请完善所有信息");break;case 2:popTipWarningQuick("银行卡号要求16位或19位数字");break;case 3:popTipWarningQuick("请填写数字")}return"number"!=typeof i};t.HXUI=Object.assign(t.HXUI,{smartValidate:n})}(jQuery,window);